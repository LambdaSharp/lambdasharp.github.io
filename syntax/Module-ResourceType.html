<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Resource Type | &#955;# - Serverless .NET for AWS </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Resource Type | &#955;# - Serverless .NET for AWS ">
    <meta name="generator" content="docfx 2.42.0.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    <meta property="docfx:newtab" content="true">
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../images/LambdaSharpLogo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="resource-type">Resource Type</h1>

<p>The <code>ResourceType</code> definition is used to register a new resource type for a deployment tier. The handler for the resource type can either be an SNS topic or a Lambda function. Once deployed, the resource type is available to all subsequent module deployments.</p>
<p>A deployed module with a resource type that is in-use by another deployed module cannot be torn down or changed. All dependent modules must first be removed before the resource type can be modified or deleted.</p>
<h2 id="syntax">Syntax</h2>
<pre><code class="lang-yaml">ResourceType: String
Description: String
Handler: String
Properties:
  - PropertyDefinition
Attributes:
  - AttributeDefinition
</code></pre>
<h2 id="properties">Properties</h2>
<dl>
<dt><code>Attributes</code></dt>
<dd>
<p>The <code>Attributes</code> section specifies the attributes returned by the resource type. The λ# CLI uses this information to validate access to attributes on a resource of this resource type.</p>
<p><i>Required</i>: Yes</p>
<p><i>Type</i>: List of <a href="Module-ResourceType-Attribute.html">Attribute Definition</a></p>
</dd>
<dt><code>Description</code></dt>
<dd>
<p>The <code>Description</code> attribute specifies the description of the exported resource type handler.</p>
<p><i>Required</i>: No</p>
<p><i>Type</i>: String</p>
</dd>
<dt><code>Handler</code></dt>
<dd>
<p>The <code>Handler</code> attribute specifies the name of an SNS topic or Lambda function.</p>
<p><i>Required</i>: Yes</p>
<p><i>Type</i>: String</p>
</dd>
<dt><code>ResourceType</code></dt>
<dd>
<p>The <code>ResourceType</code> attribute specifies the name of the resource type. Resource types are globally defined per deployment tier. The name must contain a double-colon (<code>::</code>), such as <code>ModuleName::ResourceType</code>.</p>
<p><i>Required</i>: Yes</p>
<p><i>Type</i>: String</p>
</dd>
<dt><code>Properties</code></dt>
<dd>
<p>The <code>Properties</code> section specifies the properties required by the resource type. The λ# CLI uses this information to validate the initialization of a resource using this resource type.</p>
<p><i>Required</i>: Yes</p>
<p><i>Type</i>: List of <a href="Module-ResourceType-Property.html">Property Definition</a></p>
</dd>
</dl>
<h2 id="examples">Examples</h2>
<h3 id="resource-type-using-an-sns-topic-as-handler">Resource type using an SNS Topic as handler</h3>
<pre><code class="lang-yaml">- ResourceType: Accounting::Report
  Description: Resource type for creating accounting reports
  Handler: AccountReportGeneratorTopic
  Properties:
    - Name: Name
      Description: Name of report to create
      Type: String
      Required: true
  Attributes:
    - Name: Url
      Description: Location of created report
      Type: String

- Resource: AccountReportGeneratorTopic
  Type: AWS::SNS::Topic
  Allow: Subscribe

- Function: AccountReportGenerator
  Memory: 128
  Timeout: 30
  Sources:
    - Topic: AccountReportGeneratorTopic
</code></pre>
<h3 id="resource-type-using-a-lambda-function">Resource type using a Lambda function</h3>
<pre><code class="lang-yaml">- ResourceType: Accounting::Report
  Description: Resource type for creating accounting reports
  Handler: AccountReportGenerator
  Properties:
    - Name: Name
      Description: Name of report to create
      Type: String
      Required: true
  Attributes:
    - Name: Url
      Description: Location of created report
      Type: String

- Function: AccountReportGenerator
  Memory: 128
  Timeout: 30
  Sources:
    - Topic: AccountReportGeneratorTopic
</code></pre>
<h3 id="using-a-resource-type">Using a resource type</h3>
<pre><code class="lang-yaml">- Resource: MyReport
  Type: Accounting::Report
  Properties:
    Name: MyNewReport

- Variable: MyCreatedReportUrl
  Scope: public
  Value: !GetAtt MyReport.Url
</code></pre>
<h2 id="notes">Notes</h2>
<p>The resource type handler is translated into a <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html">CloudFormation export</a> value, which is automatically tracked. The AWS console and CLI can show all CloudFormation stacks that depend on the custom resource type handler. As long as any stack uses it, CloudFormation will prevent the exported value from being modified or deleted. Modifying a custom resource handler therefore requires all dependent stacks to be deleted first.</p>
<p>This protection mechanism is of great benefit, because custom resource failures are some of the most tedious failures to deal with in CloudFormation. Inadvertently modifying a custom resource handler would impact all stacks that depended on it, making updating impossible and causing failures on delete.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
