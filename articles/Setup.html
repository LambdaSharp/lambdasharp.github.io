<!DOCTYPE html>
<html lang="en">
  
  <head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-147535443-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-147535443-1');
    </script>
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Setup LambdaSharp | LambdaSharp - Serverless .NET for AWS">
    <meta name="description" content="Getting started with LambdaSharp">
    <meta name="keywords" content="video, tutorial, getting started, overview, setup, install, lambdasharp, lambda sharp, aws, serverless, .net, dotnet, .net core, dotnetcore, c#, c sharp">
    <meta name="generator" content="docfx 2.45.0.0">
    <meta name="robots" content="index,follow">
  
    <meta property="og:title" content="Setup LambdaSharp | LambdaSharp - Serverless .NET for AWS">
    <meta property="og:site_name" content="LambdaSharp - Serverless .NET for AWS">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en_US">
    <meta property="og:url" content="https://lambdasharp.net/articles/Setup.html">
    <meta property="og:image" content="https://lambdasharp.net/images/LambdaSharpBadge.png">
    <meta property="og:description" content="Getting started with LambdaSharp">
  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Setup LambdaSharp | LambdaSharp - Serverless .NET for AWS">
    <meta name="twitter:site" content="@lambdasharp">
    <meta name="twitter:description" content="Getting started with LambdaSharp">
    <meta name="twitter:image" content="https://lambdasharp.net/images/LambdaSharpBadge.png">
  
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
  
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:newtab" content="true">
  
    <title>Setup LambdaSharp | LambdaSharp - Serverless .NET for AWS </title>
    <link rel="canonical" href="https://lambdasharp.net/articles/Setup.html">
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../images/LambdaSharpLogo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">


<p><img src="../images/LambdaSharpLogo.png" alt="λ#"></p>
<h1 id="setup-lambdasharp">Setup LambdaSharp</h1>
<h2 id="step-0-prerequisite">Step 0: Prerequisite</h2>
<p>To get started, make sure you have signed-up for an AWS account and downloaded .NET Core.</p>
<ol>
<li><a href="https://portal.aws.amazon.com/billing/signup#/start">AWS Account</a></li>
<li><a href="https://www.microsoft.com/net/download">.NET Core 3.1+</a></li>
</ol>
<p><strong>NOTE for MacOS Users:</strong> If you run <code>zsh</code> shell (default on MacOS Catalina and later), you must add <code>dotnet</code> to your environment path variable manually by adding the following line to your <code>~/.zshrc</code> file.</p>
<pre><code class="lang-bash">export PATH=$HOME/.dotnet/tools:$PATH
</code></pre>
<h2 id="step-1-installing-lambdasharp-cli">Step 1: Installing LambdaSharp CLI</h2>
<p>The LambdaSharp CLI can be installed as a global <code>dotnet</code> tool by running the <code>dotnet</code> tool installation command:</p>
<p><strong>Using PowerShell/Bash:</strong></p>
<pre><code class="lang-bash">dotnet tool install -g LambdaSharp.Tool
</code></pre>
<p>Alternatively, for LambdaSharp contributors, the CLI can be setup using the <a href="https://github.com/LambdaSharp/LambdaSharpTool">GitHub repository</a>. See the LambdaSharp contributor installation instructions below.</p>
<p>Once installed, validate that the command works by running it.</p>
<p><strong>Using PowerShell/Bash:</strong></p>
<pre><code class="lang-bash">lash
</code></pre>
<p>The following text should appear (or similar):</p>
<pre><code>LambdaSharp CLI (v0.7.0)

Project Home: https://github.com/LambdaSharp/LambdaSharpTool

Usage: lash [options] [command]

Options:
  -?|-h|--help  Show help information

Commands:
  build         Build LambdaSharp module
  deploy        Deploy LambdaSharp module
  encrypt       Encrypt Value
  info          Show LambdaSharp information
  init          Create or update a LambdaSharp deployment tier
  list          List deployed LambdaSharp modules
  new           Create new LambdaSharp module, function, or resource
  publish       Publish LambdaSharp module
  tier          Update settings module in LambdaSharp tier
  util          Miscellaneous AWS utilities

Run 'lash [command] --help' for more information about a command.
</code></pre>
<h2 id="step-2-initialize-a-lambdasharp-deployment-tier">Step 2: Initialize a LambdaSharp Deployment Tier</h2>
<p>The LambdaSharp CLI must initialize a deployment tier before it can be used. The initialization creates the needed resources for deploying LambdaSharp modules. Multiple deployment tiers can be created by using the <code>--tier</code> option (e.g. <code>Test</code>, <code>Stage</code>, <code>Prod</code>, etc.), which prefixes the deployment tier name.</p>
<p>A deployment tier can be initialized with or without LambdaSharp.Core services. The LambdaSharp.Core services provide functionality for tracking errors across deployed modules and are recommended for testing, staging, and production deployment tiers.</p>
<p>As a convenience, the <code>--quick-start</code> option streamlines the process of setting up a deployment tier and is recommended for personal work and demos.</p>
<p><strong>Using PowerShell/Bash:</strong></p>
<pre><code class="lang-bash">lash init --quick-start
</code></pre>
<p>The following text should appear (or similar):</p>
<pre><code>LambdaSharp CLI (v0.7.0) - Create or update a LambdaSharp deployment tier
Creating LambdaSharp tier
=&gt; Stack creation initiated for LambdaSharp-Core
CREATE_COMPLETE    AWS::CloudFormation::Stack    LambdaSharp-Core
CREATE_COMPLETE    AWS::S3::Bucket               DeploymentBucketResource
=&gt; Stack creation finished
=&gt; Checking API Gateway role

Done (finished: 8/15/2019 2:53:45 PM; duration: 00:00:33.2020715)
</code></pre>
<h2 id="optional-enable-lambdasharpcore-services">(Optional) Enable LambdaSharp.Core Services</h2>
<p>The LambdaSharp.Core services provide functionality for tracking errors across deployed modules and are recommended for testing, staging, and production deployment tiers. An existing deployment tier can easily be updated to enable or disable the LambdaSharp.Core services.</p>
<p><strong>Using PowerShell/Bash:</strong></p>
<pre><code class="lang-bash">lash init --core-services enabled
</code></pre>
<h2 id="optional-define-environment-variables">(Optional) Define Environment Variables</h2>
<p>The following environment variables are checked when their corresponding options are omitted from the LambdaSharp command line.</p>
<ul>
<li><code>LAMBDASHARP_TIER</code>: Replaces the need for the <code>--tier</code> option.</li>
<li><code>AWS_PROFILE</code>: Replaces the need for the <code>--aws-profile</code> option.</li>
</ul>
<p><strong>Using PowerShell:</strong></p>
<pre><code class="lang-powershell">New-Variable -Name LAMBDASHARP_TIER -Value Sandbox
</code></pre>
<p><strong>Using Bash:</strong></p>
<pre><code class="lang-bash">export LAMBDASHARP_TIER=Sandbox
</code></pre>
<h2 id="optional-customize-lambdasharp-core-settings">(Optional) Customize LambdaSharp Core Settings</h2>
<p>The following LambdaSharp Core module settings can be adjusted in the AWS console by updating the deployed CloudFormation stack.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>LoggingStreamRetentionPeriod</code></td>
<td>How long logging stream entries are kept before they are lost</td>
<td>24</td>
</tr>
<tr>
<td><code>LoggingStreamShardCount</code></td>
<td>Number of Kinesis shards for the logging streams</td>
<td>1</td>
</tr>
</tbody>
</table>
<h2 id="optional-subscribe-to-errorreporttopic-topic">(Optional) Subscribe to <code>ErrorReportTopic</code> Topic</h2>
<p>The LambdaSharp Core module analyzes the output of all deployed functions. When an issue occurs, the Core module sends a notification on the SNS <code>ErrorReportTopic</code>.</p>
<h2 id="optional-setup-rollbar-integration">(Optional) Setup Rollbar Integration</h2>
<p>The LambdaSharp Core module can optionally be configured to send errors and warnings to <a href="https://rollbar.com/">Rollbar</a>. To enable this functionality, the LambdaSharp Core module needs the <em>read</em> and <em>write</em> access tokens for the account, which can be found in the <em>Account Settings</em> page.</p>
<p>The LambdaSharp Core module expects the access tokens to be encrypted, which can easily be done with the <a href="../cli/Tool-Encrypt.html"><code>lash encrypt</code></a> command.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>RollbarReadAccessToken</code></td>
<td>Account-level token for read operations</td>
<td>&quot;&quot;</td>
</tr>
<tr>
<td><code>RollbarWriteAccessToken</code></td>
<td>Account-level token for write operations</td>
<td>&quot;&quot;</td>
</tr>
<tr>
<td><code>RollbarProjectPattern</code></td>
<td>Optional pattern for naming Rollbar projects (see below)</td>
<td>&quot;&quot;</td>
</tr>
<tr>
<td><code>RollbarProjectPrefix</code></td>
<td>(Obsolete: use <code>RollbarProjectPattern</code> instead) Optional prefix when creating Rollbar projects</td>
<td>&quot;&quot;</td>
</tr>
</tbody>
</table>
<h3 id="using-rollbarprojectpattern-parameter">Using <code>RollbarProjectPattern</code> Parameter</h3>
<p>The <code>RollbarProjectPattern</code> parameter is used to flexibly configure how Rollbar projects are named based on the module information. The following placeholders values are available for the pattern (assuming a module named <code>Acme.Example.Module:123@origin</code>):</p>
<ul>
<li><code>{ModuleFullName}</code>: The full module name (e.g. <code>Acme.Example.Module</code>)</li>
<li><code>{ModuleNamespace}</code>: The module namespace (e.g. <code>Acme</code>)</li>
<li><code>{ModuleName}</code>: The module name (e.g. <code>Example.Module</code>)</li>
</ul>
<p>During execution, the placeholders values are substituted with information from the module to generate the actual Rollbar project name. Note a Rollbar project name must start with a letter; can contain letters, numbers, spaces, underscores, hyphens, periods, and commas. If the generated Rollbar project name exceeds 32 characters, the last 6 characters in the available project name are substituted with 6 characters from the SHA256 hash of the entire name to ensure uniqueness.</p>
<p>The default pattern is <code>{ModuleFullName}</code> when no <code>RollbarProjectPattern</code> parameter is specified.</p>
<h1 id="for-lambdasharp-contributors-installing-lambdasharp-from-github">For LambdaSharp Contributors: Installing LambdaSharp from GitHub</h1>
<p>LambdaSharp is distributed as <a href="https://github.com/LambdaSharp/LambdaSharpTool">GitHub repository</a>. Switch to your preferred folder for Git projects and create a clone of the LambdaSharp repository.</p>
<p><strong>Using PowerShell/Bash:</strong></p>
<pre><code class="lang-bash">git clone https://github.com/LambdaSharp/LambdaSharpTool.git
</code></pre>
<p>Define the <code>LAMBDASHARP</code> environment variable to point to the folder of the <code>LambdaSharpTool</code> clone. Invoke the <code>set-lash-version</code> to set the correct version for the tool, otherwise it will not compile. Finally, define <code>lst</code> as an alias to invoke the LambdaSharp CLI.</p>
<p>The following script assumes LambdaSharp was cloned into the <code>/Repos/LambdaSharpTool</code> directory.</p>
<p><strong>Using PowerShell:</strong></p>
<pre><code class="lang-powershell">$Env:LAMBDASHARP=&quot;\Repos\LambdaSharpTool&quot;
$Env:LAMBDASHARP\Scripts\Set-Lash-Version.ps1
function Run-LambdaSharp-Project {
    dotnet run -p $env:LAMBDASHARP\src\LambdaSharp.Tool\LambdaSharp.Tool.csproj -- $args
}
New-Alias -Name lst -Value Run-LambdaSharp-Project -Description &quot;Run LambdaSharp from project&quot; -Force
</code></pre>
<p><strong>Using Bash:</strong></p>
<pre><code class="lang-bash">export LAMBDASHARP=/Repos/LambdaSharpTool
source $LAMBDASHARP/Scripts/set-lash-version.sh
alias lst=&quot;dotnet run -p $LAMBDASHARP/src/LambdaSharp.Tool/LambdaSharp.Tool.csproj --&quot;
</code></pre>
<p><strong>IMPORTANT:</strong> make sure to always use your <code>lst</code> function/alias instead of the <code>lash</code> command.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
